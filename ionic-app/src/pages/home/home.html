<timer></timer>

<ion-header>
  <ion-navbar>
    <ion-title>Home</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding class="home">
  
  <ion-grid style="padding-bottom: 30px">
    <ion-row>
      <ion-col width-50 offset-25>
        <p text-center>The current CO threshold is...</p>
        <div *ngIf="data">
          <h2 text-center *ngIf="data['threshold'] == 'Green'" style="color:green">{{data.threshold}}</h2>
          <h2 text-center *ngIf="data['threshold'] == 'Yellow'" style="color:yellow">{{data.threshold}}</h2>
          <h2 text-center *ngIf="data['threshold'] == 'Orange'" style="color:orange">{{data.threshold}}</h2>
          <h2 text-center *ngIf="data['threshold'] == 'Red'" style="color:red">{{data.threshold}}</h2>
          <h2 text-center *ngIf="data['threshold'] == 'undefined'">{{data.threshold}}</h2>
        </div>
        <p style="text-align: center; color:gray">Results refresh every {{interval}} seconds.</p>
        <div text-center><button ion-button small round outline (click)="getReadingFromID(hardware_id, token)">Manual Refresh</button></div>
        
      </ion-col>
    </ion-row>
    
    <ion-row *ngIf="data">
      <ion-col>
        <ion-item-group>
          <ion-item-divider>Detailed CO Information</ion-item-divider>
          <ion-item>
            <strong>IP Address: </strong>{{data.ip_address[0]}}.{{data.ip_address[1]}}.{{data.ip_address[2]}}.{{data.ip_address[3]}}
          </ion-item>
          <ion-item>
            <strong>Analog Reading: </strong>{{data.analog_reading}}
          </ion-item>
        </ion-item-group>
      </ion-col>
    </ion-row>

    <ion-row>
      <ion-col>
        <ion-item-group>
          <ion-item-divider>Device Information and Settings</ion-item-divider>
          <ion-item>
              <strong>Hardware ID: </strong>{{hardware_id}}
          </ion-item>
          <ion-item>
              <strong>Token: </strong>{{token}}
          </ion-item>
          <ion-item>
              <strong>Interval: </strong>{{interval}}
          </ion-item>
          <ion-item>
            <strong>Current Timer: </strong> {{time}}
          </ion-item>
        </ion-item-group>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>